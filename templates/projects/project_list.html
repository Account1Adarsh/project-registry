{% extends 'base.html' %}
{% block content %}

<form method="get" class="row g-2 align-items-end mb-4">
  <div class="col-md-4">
    <label for="search" class="form-label">Search</label>
    <input
      type="text"
      id="search"
      name="q"
      class="form-control"
      placeholder="Title or linkâ€¦"
      value="{{ filter_q }}"
    >
  </div>

  <div class="col-md-2">
    <label for="year" class="form-label">Year</label>
    <select id="year" name="year" class="form-select">
      <option value="">All</option>
      {% for y in all_years %}
        <option value="{{ y }}" {% if filter_year|stringformat:"s" == y|stringformat:"s" %}selected{% endif %}>{{ y }}</option>
      {% endfor %}
    </select>
  </div>

  <div class="col-md-3">
    <label for="branch" class="form-label">Branch</label>
    <select id="branch" name="branch" class="form-select">
      <option value="">All</option>
      {% for b in all_branches %}
        <option value="{{ b }}" {% if b == filter_branch %}selected{% endif %}>{{ b }}</option>
      {% endfor %}
    </select>
  </div>

  <div class="col-md-2">
    <label for="type" class="form-label">Type</label>
    <select id="type" name="type" class="form-select">
      <option value="">All</option>
      {% for code, label in all_types %}
        <option value="{{ code }}" {% if code == filter_type %}selected{% endif %}>{{ label }}</option>
      {% endfor %}
    </select>
  </div>

  <div class="col-md-1 text-end">
    <button type="submit" class="btn btn-primary w-100">
      <i class="fas fa-filter me-1"></i>Filter
    </button>
  </div>
</form>

<div class="row g-4">
  {% for project in projects %}
    <!-- your card markup here -->
  {% empty %}
    <div class="text-center py-5">
      <p class="mb-3">No projects found yet.</p>
      <a href="{% url 'project_add' %}" class="btn btn-lg btn-outline-primary">Add your first project</a>
    </div>
  {% endfor %}
</div>

{% if is_paginated %}
  <nav class="mt-5">
    <!-- your pagination markup here -->
  </nav>
{% endif %}

{% endblock %}
